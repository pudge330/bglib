!function(t,e){if("function"==typeof define&&define.amd)define([],e);else if("object"==typeof module&&module.exports)module.exports=e();else{var n=t.bglib,r=t.bglib=e();r.noConflict=function(){return t.bglib=n,r}}}(window,function(){function i(){}var r,t,e,n,o,a,s,u,l,c,p,f,d,h,y="undefined"!==window.jQuery?window.jQuery:null,g={name:"bglib",version:"1.0",modules:{}};function b(){}function v(){this.storage=new WeakMap}return i.fn={},i.getName=function(){return g.name},i.getVersion=function(){return g.version},i.fn.call=function(t,e){return t.apply(null,e)},Date.getMonthName||(Date.label={month:["January","February","March","April","May","June","July","August","September","October","November","December"],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Date.label.month.abbr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Date.label.day.abbr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Date.getMonthName=function(t,e){return 12<t?t=12:t<1&&(t=1),t-=1,(e=e||!1)?Date.label.month.abbr[t]:Date.label.month[t]}),Date.getMonthIndex||(Date.getMonthIndex=function(t){t=t.toLowerCase().uppercaseFirst();var e=Date.label.month.indexOf(t);return-1===e&&(e=Date.label.month.abbr.indexOf(t)),-1!==e?e+1:null}),Date.getDayName||(Date.getDayName=function(t,e){return 7<t?t=7:t<1&&(t=1),t-=1,(e=e||!1)?Date.label.day.abbr[t]:Date.label.day[t]}),Date.getDayIndex||(Date.getDayIndex=function(t){t=t.toLowerCase().uppercaseFirst();var e=Date.label.day.indexOf(t);return-1===e&&(e=Date.label.day.abbr.indexOf(t)),-1!==e?e+1:null}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.uppercaseFirst||(String.prototype.uppercaseFirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)}),String.prototype.lowercaseFirst||(String.prototype.lowercaseFirst=function(){return this.charAt(0).toLowerCase()+this.slice(1)}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.concatUnique||(Array.prototype.concatUnique=function(t){for(var e=0;e<t.length;e++)-1===this.indexOf(t[e])&&this.push(t[e]);return this}),Array.prototype.pushUnique||(Array.prototype.pushUnique=function(t){return-1===this.indexOf(t)&&this.push(t),this}),window.isObject||(window.isObject=function(t){return null!==t&&("function"==typeof t||"object"==typeof t)}),Object.isObject||(Object.isObject=window.isObject),Object.copy||(Object.copy=function(t){if(null===t||"object"!=typeof t)return t;var e=t.constructor();return Object.assign(e,t)}),Object.copyMerge||(Object.copyMerge=function(t,e){return Object.assign(Object.copy(t),e)}),Object.deepMerge||(Object.deepMerge=function(){var t=Array.prototype.slice.call(arguments);if(0===t.length)return{};var e=!1;2<t.length&&!0===t[t.length-1]&&(e=!0,t.pop());for(var n=e?Object.assign({},t.shift()):t.shift(),r=0;r<t.length;r++)for(var a in t[r])t[r].hasOwnProperty(a)&&(Object.isObject(t[r][a])&&!Array.isArray(t[r][a])&&n.hasOwnProperty(a)&&Object.isObject(n[a])?n[a]=Object.deepMerge(n[a],t[r][a],!0):Array.isArray(t[r][a])&&n.hasOwnProperty(a)&&Array.isArray(n[a])?n[a]=n[a].concat(t[r][a]):(Object.isObject(t[r][a])&&(t[r][a]=Object.assign({},t[r][a])),n[a]=t[r][a]));return n}),Object.deepCopyMerge||(Object.deepCopyMerge=function(){var t=Array.prototype.slice.call(arguments);if(0===t.length)return{};for(var e=Object.assign({},t.shift()),n=0;n<t.length;n++)for(var r in t[n])t[n].hasOwnProperty(r)&&(Object.isObject(t[n][r])&&!Array.isArray(t[n][r])&&e.hasOwnProperty(r)&&Object.isObject(e[r])?e[r]=Object.deepCopyMerge(e[r],t[n][r]):Array.isArray(t[n][r])&&e.hasOwnProperty(r)&&Array.isArray(e[r])?e[r]=e[r].concat(t[n][r]):(Object.isObject(t[n][r])&&(t[n][r]=Object.assign({},t[n][r])),e[r]=t[n][r]));return e}),Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=i.length;return function(t){if("function"!=typeof t&&("object"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var e,n,r=[];for(e in t)a.call(t,e)&&r.push(e);if(o)for(n=0;n<s;n++)a.call(t,i[n])&&r.push(i[n]);return r}}()),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var a=arguments[r];if(null!=a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])}return n},writable:!0,configurable:!0}),Object.prototype.watch||Object.defineProperty(Object.prototype,"watch",{enumerable:!1,configurable:!0,writable:!1,value:function(e,n){var r=this[e],a=r;delete this[e]&&Object.defineProperty(this,e,{get:function(){return a},set:function(t){return r=a,a=n.call(this,e,r,t)},enumerable:!0,configurable:!0})}}),Object.prototype.unwatch||Object.defineProperty(Object.prototype,"unwatch",{enumerable:!1,configurable:!0,writable:!1,value:function(t){var e=this[t];delete this[t],this[t]=e}}),JSON.safeParse||(JSON.safeParse=function(e,t){if(t=void 0!==t?t:null,null===e)return null;try{e=JSON.parse(e)}catch(t){e=null}return e}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(this))return null;do{if(e.matches(t))return e;e=e.parentElement}while(null!==e);return null}),Function.prototype.bind||(r=Array.prototype.slice,Function.prototype.bind=function(){var t=this,e=arguments[0],n=r.call(arguments,1);if("function"!=typeof t)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){return n.push.apply(n,arguments),t.apply(e,n)}}),i.create=function(t,e,n){if(t=t||{},e=e||{},n=n||"Base",g.modules.hasOwnProperty(n)||(n="Base"),g.modules.hasOwnProperty(n))return g.modules[n].extend(t,e)},i.noop=function(){},i.setRegisteredModule=function(t,e){g.modules[t]=e},function(t,e){"use strict";t=t||"docReady",e=e||window;var n=[],r=!1,a=!1;function o(){if(!r){r=!0;for(var t=0;t<n.length;t++)n[t].fn.call(window,n[t].ctx);n=[]}}function i(){"complete"===document.readyState&&o()}e[t]=function(t,e){if("function"!=typeof t)throw new TypeError("callback for docReady(fn) must be a function");r?setTimeout(function(){t(e)},1):(n.push({fn:t,ctx:e}),"complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(o,1):a||(document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):(document.attachEvent("onreadystatechange",i),window.attachEvent("onload",o)),a=!0))}}("documentReady",i.fn),i.fn.formatDecimal=function(t,e){return e=e||2,t&&"0"!==t||(t=0),"string"==typeof t&&(t=t.replace(/[^\d\.]/g,"")),parseFloat(Math.round(100*t)/100).toFixed(e)},i.fn.interpolate=function(t,e){for(var n in e)t=t.replace(new RegExp("{{"+n+"}}","gm"),e[n]);return t},i.fn.iosVersion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)]}return null},i.fn.rand=function(t){return t=t||1e8,Math.floor(Math.random()*t+1)},i.fn.request=function(t,e,n,r){n=n||{};var a="GET"!==(r=r||"GET");e=e||i.noop,e=i.DT.isFunction(e)?{success:e,error:i.noop}:Object.assign({success:i.noop,error:i.noop},e);var o=new XMLHttpRequest;o.open(r,t,!0),o.addEventListener("readystatechange",function(){4==o.readyState&&200==o.status?e.success(o.responseText,o,n):e.error(o.responseText,o,n)},!1),a?(o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send(JSON.stringify(n))):o.send()},t=i,b.extend=function(t,e){e=e||{};var n,r=this;return n=(t=t||{})&&t.hasOwnProperty("constructor")?t.constructor:function(){return r.apply(this,arguments)},n=Object.assign(n,r),(n=Object.assign(n,e)).prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object.assign(n.prototype,t),n.__parent=r,n},t.BaseModule=b.extend({constructor:function(){b.apply(this,arguments),this.init&&this.init.apply(this,arguments)}}),t.setRegisteredModule("Base",t.BaseModule),i.DT={isString:function(t){return"string"==typeof t||t instanceof String},isFinite:function(t){return"undefined"!=typeof isFinite?isFinite(t):"number"==typeof t},isNumber:function(t){return"number"==typeof t&&this.isFinite(t)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"function"==typeof t},isObject:function(t){return!1!==t&&("function"==typeof t||"object"==typeof t)},isNull:function(t){return null===t},isUndefined:function(t){return void 0===t},isBool:function(t){return"boolean"==typeof t},isRegExp:function(t){return t&&"object"==typeof t&&t.constructor===RegExp},isError:function(t){return t instanceof Error&&void 0!==t.message},isDate:function(t){return t instanceof Date}},e=i,v.prototype.set=function(t,e,n){this.storage.has(t)||this.storage.set(t,new Map),this.storage.get(t).set(e,n)},v.prototype.get=function(t,e){return this.has(t,e)?this.storage.get(t).get(e):void 0},v.prototype.has=function(t,e){return!!this.hasBase(t)&&this.storage.get(t).has(e)},v.prototype.hasBase=function(t){return this.storage.has(t)},v.prototype.remove=function(t,e){var n=!1;return this.has(t,e)&&(n=this.storage.get(t).delete(e)),this.hasBase(t)&&0===this.storage.get(t).size&&this.storage.delete(t),n},v.prototype.reset=function(t){this.hasBase(t)&&this.storage.delete(t)},e.ElementalData=v,o=(n=i).BaseModule,a=o.extend({__propagationStopped:void 0,__defaultPrevented:void 0,__eventProps:void 0,data:void 0,name:void 0,constructor:function(t,e,n,r){for(var a in o.apply(this,arguments),this.__propagationStopped=!1,this.__defaultPrevented=!1,this.name=t||"UnsetEventName",this.data=n||{},e=e||{},this.__eventProps=e)e.hasOwnProperty(a)&&(this[a]=e[a]);r&&(this.originalEvent=r)},getEventProps:function(){return this.__eventProps},stopPropagation:function(){this.__propagationStopped=!0},isPropagationStopped:function(){return this.__propagationStopped},preventDefault:function(){void 0!==this.originalEvent?this.originalEvent.preventDefault():this.__defaultPrevented=!0},isDefaultPrevented:function(){return void 0!==this.originalEvent?this.originalEvent.defaultPrevented:this.__defaultPrevented}}),n.Event=a,i.EventUtil={addHandler:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},removeHandler:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}},u=(s=i).Event,l=s.EventUtil,s.EventManager=s.create({target:void 0,attached:void 0,init:function(t){this.target=t,this.attached={}},resolveArguments:function(t,arguments){var e,n,r,a,o=[].slice.call(arguments);if(e=o.shift(),"on"===t)switch(o.length){case 3:n=o[0],r=o[1],a=o[2];break;case 2:s.DT.isString(o[0])?n=o[0]:r=o[0],a=o[1];break;case 1:s.DT.isFunction(o[0])&&(a=o[0])}else switch(o.length){case 3:n=o[0],a=o[1],cache=o[2];break;case 2:s.DT.isString(o[0])?(n=o[0],a=o[1]):s.DT.isFunction(o[0])&&(a=o[0],cache=o[1]);break;case 1:s.DT.isFunction(o[0])&&(a=o[0])}return n=n||null,r=r||r,a=a||function(){},cache="undefined"!=typeof cache&&cache,e=(e=e.trim())?e.replace(/(\s{2,})/," "):"","on"===t?[e,n,r,a]:[e,n,a,cache]},on:function(){var t,e,n,r,s=this,a=this.resolveArguments("on",arguments);t=a[0],e=a[1],n=a[2],r=a[3],t=""!=t?t.split(" "):[];for(var o=0;o<t.length;o++){var c=t[o].trim();this.attached.hasOwnProperty(c)||(this.attached[c]={name:c,fn:function(){},handlers:new Map,data:new Map},this.attached[c].fn=function(o,t){var i=new u(c,{target:s.target},{},t);o.handlers.forEach(function(t,e){if(!i.isPropagationStopped()&&t){var n=o.data.get(e);n=n||{};var r,a=new u(c,{target:s.target},n,i.originalEvent);e.selector?a.originalEvent.target.matches(e.selector)?(e.callback.bind(a.originalEvent.target)(a),a.isPropagationStopped()&&i.stopPropagation()):(r=a.originalEvent.target.closest(e.selector))&&(e.callback.bind(r)(a),a.isPropagationStopped()&&i.stopPropagation()):(e.callback.bind(s.target)(a),a.isPropagationStopped()&&i.stopPropagation())}})}.bind(this.target,this.attached[c]),l.addHandler(this.target,c,this.attached[c].fn));var i={name:c,selector:e,callback:r};this.attached[c].handlers.set(i,!0),this.attached[c].data.set(i,n)}},off:function(){var t,e,n,r,a=this.resolveArguments("off",arguments);t=a[0],e=a[1],n=a[2],r=a[3],t=""!=t?t.split(" "):[];for(var o=0;o<t.length;o++){var i,s=t[o],c=s,u=e,l=n;this.attached[s].handlers.forEach(function(t,e){i||c!=e.name||u!=e.selector||l!=e.callback||(i=e)}),i&&(r?this.attached[s].handlers.set(i,!1):(this.attached[s].handlers.delete(i),this.attached[s].data.delete(i)))}},hasHandlers:function(t){return!(!this.attached.hasOwnProperty(t)||!this.attached[t].handlers.size)}}),p=(c=i).EventManager,f=new c.ElementalData,d=new WeakMap,(h={getAttributes:function(t){var e={};if(t=h.element(t))for(var n=0,r=t.attributes,a=r.length;n<a;n++)e[r[n].nodeName]=r[n].value;return e},text:function(t){return t?t.innerText||t.textContent:""},addClass:function(t,e){h.hasClass(t,e)||(""!=t.className&&(e=" "+e),t.className=t.className.trim()+" "+e.trim())},removeClass:function(t,e){if(h.hasClass(t,e)){e=" "+e+" ";var n=(" "+t.className+" ").replace(/[\n\t\r]/g," ");n=n.replace(e,""),t.className=n.trim()}},toggleClass:function(t,e){h.hasClass(t,e)?h.removeClass(t,e):h.addClass(t,e)},hasClass:function(t,e){return e=" "+e+" ",-1<(" "+t.className+" ").replace(/[\n\t\r]/g," ").indexOf(e)},css:function(t,e,n){if(void 0===n){var r,a=window.navigator.userAgent.toLowerCase();if(/msie|opera/.test(a)?r=t.currentStyle:/gecko/.test(a)&&(r=document.defaultView.getComputedStyle(t,null)),!c.DT.isObject(e))return null!=r[e]?r[e]:t.style[e];for(var o in e)e.hasOwnProperty(o)&&h.css(t,o,e[o])}else e&&(t.style[e]=n)},data:function(t,e,n){if(!(2<arguments.length))return h.data.get(t,e);h.data.set(t,e,n)}}).data.get=function(t,e){return f.get(t,e)},h.data.set=function(t,e,n){f.set(t,e,n)},h.data.has=function(t,e){return f.has(t,e)},h.data.remove=function(t,e){f.remove(t,e)},h.element=function(t){var e=h.elements(t);return e.length?e[0]:null},h.elements=function(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];c.DT.isString(n)?n=[n]:y&&n instanceof y||c.jLyte&&n instanceof c.jLyte?n=n.toArray():n instanceof NodeList?n=[].slice.call(n):n instanceof DocumentFragment?n=n.childNodes:c.DT.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++)c.DT.isString(n[r])?t=t.concat(h.resolveElements(n[r])):y&&n[r]instanceof y||c.jLyte&&n[r]instanceof c.jLyte?t=t.concat(n[r].toArray()):c.DT.isArray(n[r])?t.concat(n[r]):t.push(n[r])}return t},h.resolveElements=function(t){if(!(t=t.trim())||""==t)return[];var e=[],n=t.match(/^(?:(<[\w\W]+>)|\#([\w-]+)|\.([\w-]+))$/);if(n)if(n[1])if(n=t.match(/^(<\s*(thead|tbody|tfoot|tr|td|th)[^>]*>)(.*)<\s*\/\s*(thead|tbody|tfoot|tr|td|th)\s*>$/))if(n[2]==n[4]){var r="table";"tr"==n[2]?r="thead":-1!==["td","th"].indexOf(n[2])&&(r="tr"),(r=document.createElement(r)).innerHTML=t,e=r.childNodes}else e=[document.createTextNode(t)];else e=document.createRange().createContextualFragment(t).childNodes;else if(n[2]){var a=document.getElementById(n[2]);e=a?[a]:[]}else e=document.querySelectorAll("."+n[3]);else e=(n=t.replace(/[\s,{]+$/gm,"").concat(" {").match(/([^\r\n,{}]+)(\s?,(?=[^}]*{)|\s*{)/))&&!t.match(/^(text\#|txt\#)/)?document.querySelectorAll(t.replace(/[\s,{]+$/gm,"")):(t=t.replace(/^(text\#|txt\#)/,""),[document.createTextNode(t)]);return[].slice.call(e)},h.offset=function(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+r,left:e.left+n}},h.remove=function(t){if(t instanceof Element)t.parentElement.removeChild(t);else if(t instanceof NodeList||t instanceof HTMLCollection||c.DT.isArray(t))for(var e=t.length-1;0<=e;e--)t[e]&&t[e].parentElement&&t[e].parentElement.removeChild(t[e])},h.on=function(){var t=[].slice.call(arguments),e=t.shift();if(e){d.has(e)||d.set(e,new p(e));var n=d.get(e);p.prototype.on.apply(n,t)}},h.off=function(){var t=[].slice.call(arguments),e=t.shift();if(e&&d.has(e)){var n=d.get(e);p.prototype.off.apply(n,t)}},c.El=h,i});